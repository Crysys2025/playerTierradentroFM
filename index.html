
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Tierradentro Stereo - 92.7 FM</title>
<style>
  @keyframes fondoVertical {
    0% {
      background-position: center top;
    }
    100% {
      background-position: center bottom;
    }
  }
  @keyframes slideUp {
    from {
      transform: translateY(100%);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes zoomPlayerVertical {
    0% {
      transform: scale(1) translateY(0);
    }
    100% {
      transform: scale(1.03) translateY(-3%);
    }
  }
  @keyframes slideUp {
    from {
      transform: translateY(100%);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
  body {
    margin: 0;
    padding: 0;
    background: #fff;
  }

  .radio-player {
  background-size: 50% auto;
  background-position: center top;
  animation: fondoZoomVertical 20s infinite linear;
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
    background: url('https://i.imgur.com/NWuSBjn.jpeg') no-repeat center center;
    background-size: cover;
    color: white;
    font-family: sans-serif;
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    height: 100px;
    z-index: 1500;
  }

  .radio-player::before {
    content: "";
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, 0.5);
    backdrop-filter: solido(10px);
    z-index: -1;
  }

  .player-content {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    flex: 1;
    padding-left: 15px;
    gap: 6px;
  }

  .player-left {
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .live-btn {
    background-color: #ff0000;
    border: none;
    color: white;
    padding: 4px 10px;
    border-radius: 20px;
    font-weight: bold;
    font-size: 12px;
  }

  .song-info h2 {
    font-size: 14px;
    margin: 0;
    text-transform: uppercase;
  }

  .song-info p {
    margin: 0;
    font-size: 12px;
    color: #ccc;
  }

  .player-center {
    display: flex;
    align-items: center;
    gap: 20px;
  }

  .icon-btn, .pause-btn {
    background: transparent;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
  }

  .pause-btn {
    background: #e60023;
    border-radius: 50%;
  }

  .icon-btn svg,
  .pause-btn svg {
    fill: white;
    width: 20px;
    height: 20px;
  }

  .album-cover {
    height: 100%;
    width: 100px;
    flex-shrink: 0;
  }

  .album-cover img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    border-radius: 0;
  }

  @keyframes fondoZoomVertical {
    0% {
      background-size: 120% auto;
      background-position: center top;
    }
    50% {
      background-size: 125% auto;
      background-position: center center;
    }
    100% {
      background-size: 120% auto;
      background-position: center bottom;
    }
  }

</style>
</head>
<body>
<div class="radio-player">
  <div class="player-content">
    <div class="player-left">
      <button class="live-btn">ðŸ”´ En Vivo</button>
      <div class="song-info">
        <h2>Cargando canciÃ³n...</h2>
        <p></p>
      </div>
    </div>
    <div class="player-center">
      <button class="icon-btn" title="Compartir">
        <svg viewBox="0 0 24 24"><path fill="white" d="M18 16.08c-.76 0-1.44.3-1.96.77l-7.12-4.2a2.7 2.7 0 0 0 0-1.3l7.12-4.2A2.993 2.993 0 1 0 16 5c0 .23.03.45.08.66l-7.12 4.2a3.003 3.003 0 1 0 0 4.28l7.12 4.2c-.05.21-.08.43-.08.66a3 3 0 1 0 2-2.86Z"/></svg>
      </button>
      <button class="pause-btn" id="playPauseBtn" onclick="toggleAudio()">
        <svg id="iconPause" style="display:none" viewBox="0 0 24 24"><path d="M14 19h4V5h-4v14Zm-8 0h4V5H6v14Z"/></svg>
        <svg id="iconPlay" viewBox="0 0 24 24"><path d="M8 5v14l11-7-11-7z"/></svg>
      </button>
      <button class="icon-btn" id="muteBtn" onclick="toggleMute()" title="Silenciar">
        <svg id="volumeIcon" viewBox="0 0 24 24"><path fill="white" d="M3 10v4h4l5 5V5l-5 5H3zm13.5 2c0-1.77-1.02-3.29-2.5-4.03v8.06c1.48-.74 2.5-2.26 2.5-4.03zM14 3.23v2.06c3.39.49 6 3.39 6 6.71s-2.61 6.22-6 6.71v2.06c4.5-.51 8-4.31 8-8.77s-3.5-8.26-8-8.77z"/></svg>
        <svg id="muteIcon" style="display:none" viewBox="0 0 24 24"><path fill="white" d="M16.5 12a4.5 4.5 0 0 0-1.23-3.11l1.28-1.28A6.3 6.3 0 0 1 18.9 12c0 1.7-.68 3.25-1.78 4.39l-1.28-1.28A4.5 4.5 0 0 0 16.5 12Zm3-9L2.1 20.4l1.27 1.27L21.5 4.3 19.5 3ZM12 3v2.18L14.82 8H16V4h-4ZM6 9H4v6h2l4 4V5L6 9Z"/></svg>
      </button>
    </div>
  </div>
  <div class="album-cover" style="animation: slideUp 0.6s ease-out;">
    <img alt="CarÃ¡tula" src="https://i.imgur.com/bX2BaT0.png" />
  </div>
</div>

<audio autoplay id="radio" preload="none" src="https://stream.zeno.fm/xv084ye33mruv"></audio>
<script>
const audio = document.getElementById("radio");
const iconPlay = document.getElementById("iconPlay");
const iconPause = document.getElementById("iconPause");

function toggleAudio() {
  if (audio.paused) {
    audio.play();
    iconPlay.style.display = "none";
    iconPause.style.display = "inline";
  } else {
    audio.pause();
    iconPlay.style.display = "inline";
    iconPause.style.display = "none";
  }
}

function toggleMute() {
  const muteIcon = document.getElementById("muteIcon");
  const volumeIcon = document.getElementById("volumeIcon");
  audio.muted = !audio.muted;
  muteIcon.style.display = audio.muted ? "inline" : "none";
  volumeIcon.style.display = audio.muted ? "none" : "inline";
}

function fetchMetadata() {
  fetch("https://free.miradio.pro/icy?url=https://stream.zeno.fm/xv084ye33mruv")
    .then(response => response.json())
    .then(data => {
      if (data.title) {
        const parts = data.title.split(" - ");
        const song = parts.length > 1 ? parts[1] : parts[0];
        const artist = parts.length > 1 ? parts[0] : "";
        document.querySelector(".song-info h2").textContent = song.trim();
        document.querySelector(".song-info p").textContent = artist.trim();
      }
    })
    .catch(err => console.error("Error cargando metadata:", err));
}
setInterval(fetchMetadata, 10000);
fetchMetadata();


function fetchMetadata() {
  fetch("https://host.chapinradios.com/archivos/api.php?url=https://zenoplay.zenomedia.com/api/zenofm/nowplaying/xv084ye33mruv")
    .then(response => response.json())
    .then(data => {
      const titleElem = document.querySelector(".song-info h2");
      const artistElem = document.querySelector(".song-info p");
      const coverImg = document.querySelector(".album-cover img");

      if (data.song) {
        titleElem.textContent = data.song.trim();
      }

      if (data.artist) {
        artistElem.textContent = data.artist.trim();
      }

      if (data.artwork && data.artwork.xl) {
        coverImg.src = data.artwork.xl;
      }
    })
    .catch(err => console.error("Error cargando metadata:", err));
}

setInterval(fetchMetadata, 10000);
fetchMetadata();


function fetchMetadata() {
  fetch("https://free.miradio.pro/icy?url=https://stream.zeno.fm/xv084ye33mruv")
    .then(response => response.json())
    .then(data => {
      const titleElem = document.querySelector(".song-info h2");
      const artistElem = document.querySelector(".song-info p");
      const coverImg = document.querySelector(".album-cover img");

      if (data.song) {
        titleElem.textContent = data.song.trim();
      }

      if (data.artist) {
        artistElem.textContent = data.artist.trim();
      }

      if (data.artwork && data.artwork.xl) {
        coverImg.src = data.artwork.xl;
      } else {
        coverImg.src = "https://i.imgur.com/bX2BaT0.png";
      }
    })
    .catch(err => {
      console.error("Error cargando metadata:", err);
      document.querySelector(".album-cover img").src = "https://i.imgur.com/bX2BaT0.png";
    });
}

setInterval(fetchMetadata, 10000);
fetchMetadata();


function fetchMetadata() {
  fetch("https://free.miradio.pro/icy?url=https://stream.zeno.fm/xv084ye33mruv")
    .then(response => response.json())
    .then(data => {
      const titleElem = document.querySelector(".song-info h2");
      const artistElem = document.querySelector(".song-info p");
      const coverImg = document.querySelector(".album-cover img");
      linkContainer.innerHTML = ""; // limpiar links anteriores

      if (data.song) {
        titleElem.textContent = data.song.trim();
      }

      if (data.artist) {
        artistElem.textContent = data.artist.trim();
      }

      if (data.artwork && data.artwork.xl) {
        coverImg.src = data.artwork.xl;
      } else {
        coverImg.src = "https://i.imgur.com/bX2BaT0.png";
      }

      if (data.spotify) {
        linkContainer.appendChild(createLinkButton(data.spotify, "Spotify", "#1DB954"));
      }
      if (data.deezer) {
        linkContainer.appendChild(createLinkButton(data.deezer, "Deezer", "#EF5466"));
      }
      if (data.youtube) {
        linkContainer.appendChild(createLinkButton(data.youtube, "YouTube", "#FF0000"));
      }
    })
    .catch(err => {
      console.error("Error cargando metadata:", err);
      document.querySelector(".album-cover img").src = "https://i.imgur.com/bX2BaT0.png";
    });
}


const playerCenter = document.querySelector(".player-center");
const linkContainer = document.createElement("div");
linkContainer.style.display = "flex";
linkContainer.style.gap = "10px";
linkContainer.style.alignItems = "center";
linkContainer.style.marginLeft = "10px";
playerCenter.appendChild(linkContainer);

function createLinkButton(href, label, color) {
  const a = document.createElement("a");
  a.href = href;
  a.target = "_blank";
  a.style.background = color;
  a.style.color = "white";
  a.style.padding = "4px 8px";
  a.style.borderRadius = "12px";
  a.style.fontSize = "12px";
  a.style.textDecoration = "none";
  a.textContent = label;
  return a;
}

setInterval(fetchMetadata, 10000);
fetchMetadata();

</script>

<style>
  .ecualizador-fondo {
    position: absolute;
    bottom: 0;
    left: 0;
    height: 100%;
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    z-index: 0;
    opacity: 0.4;
    pointer-events: none;
  }

  .barra-eco {
    width: 3px;
    background: white;
    border-radius: 2px;
    animation: ecoSubeBaja 1s infinite ease-in-out;
  }

  .barra-eco:nth-child(1) { animation-delay: 0s; }
  .barra-eco:nth-child(2) { animation-delay: 0.1s; }
  .barra-eco:nth-child(3) { animation-delay: 0.2s; }
  .barra-eco:nth-child(4) { animation-delay: 0.3s; }
  .barra-eco:nth-child(5) { animation-delay: 0.4s; }
  .barra-eco:nth-child(6) { animation-delay: 0.5s; }
  .barra-eco:nth-child(7) { animation-delay: 0.6s; }
  .barra-eco:nth-child(8) { animation-delay: 0.7s; }
  .barra-eco:nth-child(9) { animation-delay: 0.8s; }
  .barra-eco:nth-child(10) { animation-delay: 0.9s; }
  .barra-eco:nth-child(11) { animation-delay: 1.0s; }
  .barra-eco:nth-child(12) { animation-delay: 1.1s; }
  .barra-eco:nth-child(13) { animation-delay: 1.2s; }
  .barra-eco:nth-child(14) { animation-delay: 1.3s; }
  .barra-eco:nth-child(15) { animation-delay: 1.4s; }

  @keyframes ecoSubeBaja {
    0%, 100% { height: 15%; }
    50% { height: 85%; }
  }
</style>

<div class="ecualizador-fondo">
  <div class="barra-eco"></div>
  <div class="barra-eco"></div>
  <div class="barra-eco"></div>
  <div class="barra-eco"></div>
  <div class="barra-eco"></div>
  <div class="barra-eco"></div>
  <div class="barra-eco"></div>
  <div class="barra-eco"></div>
  <div class="barra-eco"></div>
  <div class="barra-eco"></div>
  <div class="barra-eco"></div>
  <div class="barra-eco"></div>
  <div class="barra-eco"></div>
  <div class="barra-eco"></div>
  <div class="barra-eco"></div>
</div>


<!-- Modal compartir redes sociales SIN Messenger -->
<div id="shareModal" style="display:none; position:fixed; top:50%; left:50%; transform:translate(-50%, -50%);
 background:#fff; border-radius:10px; padding:20px; box-shadow:0 0 20px rgba(0,0,0,0.5); z-index:9999; max-width:300px; width:90%;">
  <div style="text-align:right;">
    <button onclick="document.getElementById('shareModal').style.display='none'" style="background:none;border:none;font-size:20px;cursor:pointer;">âœ•</button>
  </div>
  <div style="text-align:center;">
    <img id="modalCover" src="" alt="CarÃ¡tula" style="width:100%;border-radius:10px;" />
    <h3 id="modalSong" style="margin:10px 0 5px;">CanciÃ³n</h3>
    <p id="modalArtist" style="margin:0 0 15px;color:#555;">Artista</p>
    <div style="display:flex;justify-content:center;gap:15px;flex-wrap:wrap;">
      <a id="facebookShare" target="_blank"><img src="https://cdn-icons-png.flaticon.com/512/733/733547.png" width="32" alt="Facebook" /></a>
      <a id="whatsappShare" target="_blank"><img src="https://cdn-icons-png.flaticon.com/512/733/733585.png" width="32" alt="WhatsApp" /></a>
      <a id="telegramShare" target="_blank"><img src="https://cdn-icons-png.flaticon.com/512/2111/2111646.png" width="32" alt="Telegram" /></a>
      <a id="gmailShare" target="_blank"><img src="https://cdn-icons-png.flaticon.com/512/732/732200.png" width="32" alt="Gmail" /></a>
    </div>
  </div>
</div>

<script>
document.querySelector(".icon-btn[title='Compartir']").addEventListener("click", () => {
  const song = document.querySelector(".song-info h2").textContent;
  const artist = document.querySelector(".song-info p").textContent;
  const cover = document.querySelector(".album-cover img").src;

  document.getElementById("modalSong").textContent = song;
  document.getElementById("modalArtist").textContent = artist;
  document.getElementById("modalCover").src = cover;

  const text = encodeURIComponent("ðŸŽ§ Estoy escuchando: " + artist + " - " + song + " en Tierradentro Stereo");
  const url = encodeURIComponent("https://tierradentrostereo.epizy.com");

  document.getElementById("facebookShare").href = `https://www.facebook.com/sharer/sharer.php?u=${url}&quote=${text}`;
  document.getElementById("whatsappShare").href = `https://api.whatsapp.com/send?text=${text}%20${url}`;
  document.getElementById("telegramShare").href = `https://t.me/share/url?url=${url}&text=${text}`;
  document.getElementById("gmailShare").href = `mailto:?subject=Escucha esto&body=${text}%0A${url}`;

  document.getElementById("shareModal").style.display = "block";
});
</script>
</body>
</html>
